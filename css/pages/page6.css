/*
 * ===================================================================
 *                          css/pages/page6.css
 *                     页面6样式（V5.0 标准注释版）
 * -------------------------------------------------------------------
 * 目标：遵循《项目前端开发与维护黄金标准》，实现样式完全沙箱化、
 *      注释结构化分层，并在关键参数处提供可调节说明与影响分析。
 * 适用范围：仅作用于 #page6-container 内部元素，避免全局污染。
 * ===================================================================
 */

/*
 * ===================================================================
 *                      1. 沙箱与页面容器约定
 * -------------------------------------------------------------------
 * - 所有选择器均以 #page6-container 开头，确保作用域限定在页面6。
 * - 页面内部包装层 .page6-content-wrapper 承担滚动与尺寸控制职责。
 * - 禁止直接给 body/h1/p 等标签设样式；必须通过带前缀的类选择器。
 * - 动画命名采用 page6-* 前缀，避免跨页冲突。
 * ===================================================================
 */

/* css/pages/page6.css (Reconstructed from Origin) */

/* ▼▼▼ WRAPPER PATTERN IMPLEMENTATION ▼▼▼ */
/* 1. Make the page section a flex container to center its content */
#page6-container {
    background-image: url('../../image/（1-6）68a725b2d3e64.png');
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 !important; /* Override main.css padding */
    --bg-color: #FFFBF0; /* From original file */
    --text-color: #333;
    --title-color: #2c3e50;
    --header-border-color: #e0e0e0;
    --node-shadow: 0 4px 8px rgba(0, 0, 0, 0.07);
    --node-shadow-hover: 0 8px 18px rgba(0, 0, 0, 0.12);
    --line-main: #e74c3c;
    --line-coordination: #f1c40f;
    --line-oversight: #3498db;
}

/* 2. Define the new wrapper to control size and scrolling */
#page6-container .page6-content-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    padding: clamp(20px, 3vw, 40px) clamp(20px, 3vw, 40px) clamp(15px, 2vw, 30px) clamp(20px, 3vw, 40px);
    box-sizing: border-box;
    font-family: 'Noto Sans SC', sans-serif;
    gap: clamp(10px, 2vw, 15px);
    overflow: auto;
    scrollbar-gutter: stable both-edges;
}
/* ▲▲▲ WRAPPER PATTERN IMPLEMENTATION ▲▲▲ */


/* ▼▼▼ STYLES ADAPTED FROM ORIGIN/PAGE6.HTML ▼▼▼ */

#page6-container .page6-main-title {
    font-size: clamp(1.8em, 4vw, 2.5em);
    font-weight: 700;
    color: var(--title-color);
    margin-bottom: clamp(15px, 2vw, 20px);
    text-align: center;
    flex-shrink: 0;
    flex: 0 0 auto;
}

#page6-container .page6-chart-container {
    position: relative;
    width: clamp(85%, 91.5%, 95%);
    max-width: 1400px;
    padding: clamp(15px, 2vw, 20px);
    box-sizing: border-box;
    margin: 0 auto;
    flex: 1 1 auto;
    min-height: clamp(300px, 40vh, 500px);
    display: flex;
    flex-direction: column;
    justify-content: center;
}

#page6-container #page6-svg-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

#page6-container #page6-svg-overlay path {
    fill: none;
    stroke-width: 3;
    transition: all 0.3s ease;
}

#page6-container path.line-main { stroke: var(--line-main); stroke-width: 3.5; }
#page6-container path.line-coordination { stroke: var(--line-coordination); stroke-dasharray: 8 4; }
#page6-container path.line-oversight { stroke: var(--line-oversight); stroke-dasharray: 2 5; stroke-linecap: round; }

#page6-container .page6-grid {
    display: grid;
    grid-template-columns: clamp(80px, 10vw, 120px) repeat(4, 1fr);
    grid-template-rows: clamp(40px, 6vh, 60px) repeat(4, 1fr);
    gap: clamp(15px, 2vw, 25px);
}

#page6-container .page6-grid .header {
    font-weight: 700;
    font-size: clamp(0.9em, 1.5vw, 1.1em);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
}

#page6-container .page6-grid .column-header {
    color: #34495e;
    border-bottom: 3px solid var(--header-border-color);
}

#page6-container .page6-grid .row-header {
    color: #34495e;
    border-right: 3px solid var(--header-border-color);
}

#page6-container .page6-grid .grid-cell {
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
}

#page6-container .page6-grid .node {
    width: clamp(90%, 95%, 98%);
    height: clamp(80%, 85%, 90%);
    padding: clamp(8px, 1vw, 10px);
    border-radius: 10px;
    box-shadow: var(--node-shadow);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: clamp(0.8em, 1.2vw, 0.95em);
    font-weight: 500;
    box-sizing: border-box;
    transition: all 0.3s ease;
    background-clip: padding-box;
}

#page6-container .page6-grid .node:hover {
    transform: translateY(-5px);
    box-shadow: var(--node-shadow-hover);
}

#page6-container .page6-grid .node-core {
    background: linear-gradient(135deg, #2980b9, #3498db);
    color: white;
    border: 2px solid #2980b9;
}

#page6-container .page6-grid .node-regular {
    background-color: #ffffff;
    color: #555;
    border: 2px solid #bdc3c7;
}

/* Ensure active node shows a gold border during the animation */
#page6-container .page6-grid .node.active-flow {
    border-color: #ffc107;
    box-shadow: 0px 0px 20px 5px rgba(255, 193, 7, 0.8);
}

/* --- Animation & Interaction Styles --- */
#page6-container .dimmed {
    opacity: 0.35;
    filter: grayscale(60%);
}
#page6-container path.dimmed {
    opacity: 0.2;
}

#page6-container .node.highlighted {
    transform: translateY(-5px) scale(1.05);
    box-shadow: var(--node-shadow-hover);
}

#page6-container .active-flow {
    opacity: 1 !important;
    filter: none !important;
    transform: scale(1.08);
    box-shadow: 0px 0px 20px 5px rgba(255, 193, 7, 0.8);
    animation: page6-breathe 1.5s infinite ease-in-out;
}

@keyframes page6-breathe {
    0%, 100% { transform: scale(1.08); }
    50% { transform: scale(1.12); }
}

#page6-container path.animated-draw {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: page6-draw 1s ease-in-out forwards;
}

@keyframes page6-draw {
    to { stroke-dashoffset: 0; }
}

#page6-container .page6-legend {
    margin: clamp(10px, 2vw, 15px) 0;
    display: flex;
    gap: clamp(15px, 2vw, 25px);
    justify-content: center;
    flex-wrap: wrap;
    flex-shrink: 0;
    flex: 0 0 auto;
}
#page6-container .page6-legend .legend-item {
    display: flex;
    align-items: center;
    font-size: clamp(0.8em, 1.2vw, 0.9em);
}
#page6-container .page6-legend .legend-symbol {
    width: clamp(30px, 4vw, 40px);
    min-height: clamp(15px, 2vw, 20px);
    margin-right: clamp(8px, 1vw, 10px);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}
#page6-container .page6-legend .legend-node {
    font-size: 0.8em;
    color: white;
    font-weight: bold;
    box-shadow: var(--node-shadow);
}
#page6-container .page6-legend .node-core {
    background: linear-gradient(135deg, #2980b9, #3498db);
    color: white;
    border: 2px solid #2980b9;
}
#page6-container .page6-legend .node-regular {
    background-color: #ffffff;
    color: #555 !important;
    border: 2px solid #bdc3c7;
}
#page6-container .page6-legend .legend-line-main { background-color: var(--line-main); height: 4px; }
#page6-container .page6-legend .legend-line-coordination { background-image: linear-gradient(to right, var(--line-coordination) 60%, transparent 40%); background-size: 15px 3px; height: 3px; }
#page6-container .page6-legend .legend-line-oversight { background-image: radial-gradient(circle at center, var(--line-oversight) 40%, transparent 50%); background-size: 15px 3px; height: 3px; }

#page6-container .page6-button {
    margin: clamp(15px, 2vw, 25px) 0 clamp(8px, 1vw, 10px) 0;
    padding: clamp(10px, 1.5vw, 12px) clamp(20px, 2.5vw, 25px);
    font-size: clamp(0.9em, 1.2vw, 1em);
    font-family: 'Noto Sans SC', sans-serif;
    border: none;
    border-radius: 8px;
    background-color: #2c3e50;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    flex-shrink: 0;
    flex: 0 0 auto;
}
#page6-container .page6-button:hover {
    background-color: #34495e;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    transform: translateY(-2px);
}

/* 新增说明文字样式 */
#page6-container .page6-explanation {
    margin-top: clamp(15px, 2vw, 20px);
    padding: clamp(15px, 2vw, 20px);
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    font-size: clamp(1em, 1.3vw, 1.1em);
    line-height: 1.6;
    text-align: center;
    color: #333;
    max-width: clamp(800px, 90%, 900px);
    width: 100%;
    box-sizing: border-box;
    flex-shrink: 0;
}

/* 政策闭环强调效果 */
#page6-container .policy-cycle {
    color: #E07A5F;
    font-weight: 700;
    font-size: 1.15em;
    padding: 0 4px;
}

/* ===================================================================
 *                          响应式媒体查询
 * =================================================================== */

/* 超大屏幕优化 (2560px+) */
@media screen and (min-width: 2560px) {
    #page6-container .page6-grid {
        grid-template-columns: clamp(100px, 8vw, 150px) repeat(4, 1fr);
        grid-template-rows: clamp(50px, 5vh, 70px) repeat(4, 1fr);
        gap: clamp(20px, 2vw, 30px);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(1em, 1.5vw, 1.2em);
    }
}

/* 中等屏幕优化 (1024px - 1920px) */
@media screen and (max-width: 1920px) and (min-width: 1024px) {
    #page6-container .page6-grid {
        grid-template-columns: clamp(70px, 8vw, 100px) repeat(4, 1fr);
        grid-template-rows: clamp(35px, 4vh, 50px) repeat(4, 1fr);
        gap: clamp(12px, 1.5vw, 20px);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(0.85em, 1.1vw, 1em);
    }
}

/* 平板设备优化 (768px - 1024px) */
@media screen and (max-width: 1024px) and (min-width: 768px) {
    #page6-container .page6-content-wrapper {
        padding: clamp(15px, 2vw, 25px);
        gap: clamp(8px, 1.5vw, 12px);
    }
    
    #page6-container .page6-grid {
        grid-template-columns: clamp(60px, 7vw, 80px) repeat(4, 1fr);
        grid-template-rows: clamp(30px, 3.5vh, 40px) repeat(4, 1fr);
        gap: clamp(10px, 1.2vw, 15px);
    }
    
    #page6-container .page6-grid .header {
        font-size: clamp(0.8em, 1.3vw, 1em);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(0.75em, 1vw, 0.9em);
        padding: clamp(6px, 0.8vw, 8px);
    }
    
    #page6-container .page6-legend {
        flex-direction: column;
        align-items: center;
        gap: clamp(8px, 1vw, 12px);
    }
}

/* 手机设备优化 (480px - 768px) */
@media screen and (max-width: 768px) and (min-width: 480px) {
    #page6-container .page6-content-wrapper {
        padding: clamp(10px, 1.5vw, 20px);
        gap: clamp(6px, 1vw, 10px);
    }
    
    #page6-container .page6-main-title {
        font-size: clamp(1.5em, 3.5vw, 2em);
        margin-bottom: clamp(10px, 1.5vw, 15px);
    }
    
    #page6-container .page6-grid {
        grid-template-columns: clamp(50px, 6vw, 70px) repeat(4, 1fr);
        grid-template-rows: clamp(25px, 3vh, 35px) repeat(4, 1fr);
        gap: clamp(8px, 1vw, 12px);
    }
    
    #page6-container .page6-grid .header {
        font-size: clamp(0.7em, 1.1vw, 0.85em);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(0.65em, 0.9vw, 0.8em);
        padding: clamp(4px, 0.6vw, 6px);
    }
    
    #page6-container .page6-legend {
        flex-direction: column;
        align-items: center;
        gap: clamp(6px, 0.8vw, 10px);
    }
    
    #page6-container .page6-button {
        padding: clamp(8px, 1.2vw, 10px) clamp(15px, 2vw, 20px);
        font-size: clamp(0.8em, 1.1vw, 0.9em);
    }
}

/* 小屏手机优化 (< 480px) */
@media screen and (max-width: 480px) {
    #page6-container .page6-content-wrapper {
        padding: clamp(8px, 1vw, 15px);
        gap: clamp(4px, 0.8vw, 8px);
    }
    
    #page6-container .page6-main-title {
        font-size: clamp(1.2em, 3vw, 1.8em);
        margin-bottom: clamp(8px, 1.2vw, 12px);
    }
    
    #page6-container .page6-grid {
        grid-template-columns: clamp(40px, 5vw, 60px) repeat(4, 1fr);
        grid-template-rows: clamp(20px, 2.5vh, 30px) repeat(4, 1fr);
        gap: clamp(6px, 0.8vw, 10px);
    }
    
    #page6-container .page6-grid .header {
        font-size: clamp(0.6em, 0.9vw, 0.75em);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(0.55em, 0.8vw, 0.7em);
        padding: clamp(3px, 0.5vw, 5px);
    }
    
    #page6-container .page6-legend {
        flex-direction: column;
        align-items: center;
        gap: clamp(4px, 0.6vw, 8px);
    }
    
    #page6-container .page6-button {
        padding: clamp(6px, 1vw, 8px) clamp(12px, 1.8vw, 18px);
        font-size: clamp(0.7em, 1vw, 0.85em);
    }
}

/* 横屏模式优化 */
@media screen and (orientation: landscape) and (max-height: 600px) {
    #page6-container .page6-content-wrapper {
        padding: clamp(8px, 1vw, 15px);
        gap: clamp(6px, 1vw, 10px);
    }
    
    #page6-container .page6-grid {
        grid-template-rows: clamp(25px, 3vh, 35px) repeat(4, 1fr);
        gap: clamp(8px, 1vw, 12px);
    }
    
    #page6-container .page6-grid .node {
        font-size: clamp(0.7em, 1vw, 0.85em);
    }
}

/*
 * ===================================================================
 *                          11. 合规性自检（SOP）
 * -------------------------------------------------------------------
 * - CSS 沙箱化：选择器已使用 #page6-container 前缀（符合法则二第1条）。
 * - 禁止标签选择器：未对 body/h1/p 等标签直接设样式（符合法则二第3条）。
 * - 动画命名：全部使用 page6-* 前缀，避免跨页冲突（符合法则二第2条）。
 * - 包装器职责：.page6-content-wrapper 管理滚动与尺寸（符合法则一）。
 * - 综述：页面6样式遵循 SOP 要求，后续扩展请保持前缀与沙箱策略。
 * ===================================================================
 */
